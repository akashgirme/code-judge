{"openapi":"3.0.0","paths":{"/api":{"get":{"operationId":"getData","parameters":[],"responses":{"200":{"description":""}}}},"/api/auth/google":{"get":{"operationId":"googleAuth","parameters":[],"responses":{"200":{"description":""}}}},"/api/auth/google/callback":{"get":{"operationId":"googleAuthRedirect","parameters":[],"responses":{"200":{"description":""}}}},"/api/auth/initiate-sign-in":{"post":{"operationId":"initiateSignIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateSignInDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessMessageDto"}}}}}}},"/api/auth/sign-in-with-otp":{"post":{"operationId":"signInWithOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInWithOtpDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedInUserResponseDto"}}}}}}},"/api/auth/sign-in-with-token":{"post":{"operationId":"signInWithToken","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyTokenDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedInUserResponseDto"}}}}}}},"/api/auth/refresh":{"get":{"operationId":"refreshSession","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshedSessionDto"}}}}}}},"/api/auth/logout":{"post":{"operationId":"logout","parameters":[],"responses":{"201":{"description":""}}}},"/api/users/whoami":{"get":{"operationId":"whoAmI","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/users/onboard":{"put":{"operationId":"onboard","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/users/profile/edit":{"put":{"operationId":"editProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditProfileDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/users/admin/users":{"get":{"operationId":"getAllUsers","parameters":[{"name":"pageIndex","required":true,"in":"query","schema":{"type":"number"}},{"name":"pageSize","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllUsersDto"}}}}}}},"/api/users/admin/{userId}/change-role":{"put":{"operationId":"changeUserRole","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeUserRoleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/problems":{"post":{"operationId":"createProblem","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProblemDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Problem"}}}}}},"get":{"operationId":"getProblems","parameters":[{"name":"pageIndex","in":"query","required":true,"schema":{"type":"number"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"number"}},{"example":"ASC or DESC","required":false,"name":"order","in":"query","schema":{"$ref":"#/components/schemas/SortOrder"}},{"required":false,"name":"title","in":"query","schema":{"type":"string"}},{"required":false,"name":"authorId","in":"query","schema":{"type":"string"}},{"example":"EASY or MEDIUM or HARD","required":false,"name":"difficulty","in":"query","schema":{"$ref":"#/components/schemas/ProblemDifficulty"}},{"example":"approved or unpublished or reject","required":false,"name":"status","in":"query","schema":{"$ref":"#/components/schemas/PostStatus"}},{"required":false,"name":"topicIds","in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemsResponseDto"}}}}}}},"/api/problems/admin":{"get":{"operationId":"getProblemsForAdmin","parameters":[{"name":"pageIndex","in":"query","required":true,"schema":{"type":"number"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"number"}},{"example":"ASC or DESC","required":false,"name":"order","in":"query","schema":{"$ref":"#/components/schemas/SortOrder"}},{"required":false,"name":"title","in":"query","schema":{"type":"string"}},{"required":false,"name":"authorId","in":"query","schema":{"type":"string"}},{"example":"EASY or MEDIUM or HARD","required":false,"name":"difficulty","in":"query","schema":{"$ref":"#/components/schemas/ProblemDifficulty"}},{"example":"approved or unpublished or reject","required":false,"name":"status","in":"query","schema":{"$ref":"#/components/schemas/PostStatus"}},{"required":false,"name":"topicIds","in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemsResponseDto"}}}}}}},"/api/problems/{problemId}":{"get":{"operationId":"getProblem","parameters":[{"name":"problemId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemResponseDto"}}}}}},"put":{"operationId":"updateProblem","parameters":[{"name":"problemId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProblemDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Problem"}}}}}}},"/api/problems/admin/{problemId}":{"get":{"operationId":"getProblemForAdmin","parameters":[{"name":"problemId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemResponseAdminDto"}}}}}}},"/api/topics":{"post":{"operationId":"createTopic","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTopicDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Topic"}}}}}},"get":{"operationId":"getAllTopics","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Topic"}}}}}}}},"/api/topics/{topicId}":{"get":{"operationId":"getTopic","parameters":[{"name":"topicId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Topic"}}}}}},"put":{"operationId":"updateTopic","parameters":[{"name":"topicId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTopicDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Topic"}}}}}}},"/api/submissions":{"post":{"operationId":"createSubmission","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSubmissionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Submission"}}}}}}},"/api/submissions/callback":{"post":{"operationId":"handleExecutionResponseCallback","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSubmissionDto"}}}},"responses":{"201":{"description":""}}}},"/api/submissions/problem/{problemId}":{"get":{"operationId":"getSubmissionsByProblem","parameters":[{"name":"problemId","required":true,"in":"path","schema":{"type":"string"}},{"name":"pageIndex","in":"query","required":true,"schema":{"type":"number"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"number"}},{"example":"ASC or DESC","required":false,"name":"order","in":"query","schema":{"$ref":"#/components/schemas/SortOrder"}},{"name":"language","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Language"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllSubmissionsDto"}}}}}}},"/api/submissions/user/{problemId}":{"get":{"operationId":"getSubmissionsByUserAndProblem","parameters":[{"name":"problemId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Submission"}}}}}}}},"/api/submissions/{submissionId}":{"get":{"operationId":"getSubmissionById","parameters":[{"name":"submissionId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionResponseDto"}}}}}}},"/api/solutions":{"get":{"operationId":"getSolution","parameters":[{"name":"problemId","in":"query","required":true,"schema":{"type":"string"}},{"name":"language","in":"query","required":true,"schema":{"type":"object"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}},"post":{"operationId":"addSolution","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddSolutionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessMessageDto"}}}}}}}},"info":{"title":"Code Judge","description":"An API to do awesome things","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"InitiateSignInDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"SuccessMessageDto":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"SignInWithOtpDto":{"type":"object","properties":{"email":{"type":"string"},"otp":{"type":"string"}},"required":["email","otp"]},"UserRole":{"type":"string","enum":["user","problem_admin","super_admin"]},"User":{"type":"object","properties":{"id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"hasOnboarded":{"type":"boolean"},"role":{"$ref":"#/components/schemas/UserRole"}},"required":["id","firstName","lastName","email","hasOnboarded","role"]},"SignedInUserResponseDto":{"type":"object","properties":{"accessToken":{"type":"string"},"user":{"$ref":"#/components/schemas/User"}},"required":["accessToken","user"]},"VerifyTokenDto":{"type":"object","properties":{"verificationToken":{"type":"string"}},"required":["verificationToken"]},"RefreshedSessionDto":{"type":"object","properties":{"accessToken":{"type":"string"}},"required":["accessToken"]},"OnboardUserDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"}},"required":["firstName","lastName"]},"EditProfileDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"}},"required":["firstName","lastName"]},"PaginationResultDto":{"type":"object","properties":{"pageIndex":{"type":"number"},"pageSize":{"type":"number"},"totalPages":{"type":"number"},"totalItems":{"type":"number"},"itemsOnPage":{"type":"number"},"isFirstPage":{"type":"boolean"},"isLastPage":{"type":"boolean"}},"required":["pageIndex","pageSize","totalPages","totalItems","itemsOnPage","isFirstPage","isLastPage"]},"AllUsersDto":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"paginationMeta":{"$ref":"#/components/schemas/PaginationResultDto"}},"required":["users","paginationMeta"]},"ChangeUserRoleDto":{"type":"object","properties":{"role":{"$ref":"#/components/schemas/UserRole"}},"required":["role"]},"ProblemDifficulty":{"type":"string","enum":["EASY","MEDIUM","HARD"]},"SupportedLanguages":{"type":"string","enum":["c","cpp","java","js","go"]},"CreateProblemDto":{"type":"object","properties":{"title":{"type":"string"},"difficulty":{"$ref":"#/components/schemas/ProblemDifficulty"},"description":{"type":"string"},"solution":{"type":"string"},"solutionLanguage":{"$ref":"#/components/schemas/SupportedLanguages"},"testCasesInput":{"type":"string"},"testCasesOutput":{"type":"string"},"internalNotes":{"type":"string"},"topicIds":{"type":"array","items":{"type":"string"}}},"required":["title","difficulty","description","solution","solutionLanguage","testCasesInput","testCasesOutput","topicIds"]},"Topic":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"]},"ProblemStatus":{"type":"string","default":"unpublished","enum":["unpublished","approved","rejected"]},"Problem":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"difficulty":{"$ref":"#/components/schemas/ProblemDifficulty"},"slug":{"type":"string"},"author":{"$ref":"#/components/schemas/User"},"topics":{"type":"array","items":{"$ref":"#/components/schemas/Topic"}},"internalNotes":{"type":"string"},"status":{"$ref":"#/components/schemas/ProblemStatus"},"solutionLanguage":{"$ref":"#/components/schemas/SupportedLanguages"}},"required":["id","title","difficulty","slug","author","topics","internalNotes","status","solutionLanguage"]},"SortOrder":{"type":"string","enum":["ASC","DESC"]},"PostStatus":{"type":"string","enum":["unpublished","approved","rejected"]},"ProblemsResponseDto":{"type":"object","properties":{"problems":{"type":"array","items":{"$ref":"#/components/schemas/Problem"}},"paginationMeta":{"$ref":"#/components/schemas/PaginationResultDto"}},"required":["problems","paginationMeta"]},"ProblemResponseDto":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"difficulty":{"$ref":"#/components/schemas/ProblemDifficulty"},"slug":{"type":"string"},"author":{"$ref":"#/components/schemas/User"},"topics":{"type":"array","items":{"$ref":"#/components/schemas/Topic"}},"internalNotes":{"type":"string"},"status":{"$ref":"#/components/schemas/ProblemStatus"},"solutionLanguage":{"$ref":"#/components/schemas/SupportedLanguages"},"description":{"type":"string"}},"required":["id","title","difficulty","slug","author","topics","internalNotes","status","solutionLanguage","description"]},"ProblemResponseAdminDto":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"difficulty":{"$ref":"#/components/schemas/ProblemDifficulty"},"slug":{"type":"string"},"author":{"$ref":"#/components/schemas/User"},"topics":{"type":"array","items":{"$ref":"#/components/schemas/Topic"}},"internalNotes":{"type":"string"},"status":{"$ref":"#/components/schemas/ProblemStatus"},"solutionLanguage":{"$ref":"#/components/schemas/SupportedLanguages"},"description":{"type":"string"},"solution":{"type":"string"},"testCasesInput":{"type":"string"},"testCasesOutput":{"type":"string"}},"required":["id","title","difficulty","slug","author","topics","internalNotes","status","solutionLanguage","description","solution","testCasesInput","testCasesOutput"]},"UpdateProblemDto":{"type":"object","properties":{"title":{"type":"string"},"difficulty":{"$ref":"#/components/schemas/ProblemDifficulty"},"description":{"type":"string"},"solution":{"type":"string"},"solutionLanguage":{"$ref":"#/components/schemas/SupportedLanguages"},"testCasesInput":{"type":"string"},"testCasesOutput":{"type":"string"},"internalNotes":{"type":"string"},"topicIds":{"type":"array","items":{"type":"string"}},"status":{"$ref":"#/components/schemas/ProblemStatus"}}},"CreateTopicDto":{"type":"object","properties":{"topicName":{"type":"string"}},"required":["topicName"]},"CreateSubmissionDto":{"type":"object","properties":{"problemId":{"type":"string"},"code":{"type":"string"},"language":{"$ref":"#/components/schemas/SupportedLanguages"}},"required":["problemId","code","language"]},"Submission":{"type":"object","properties":{"id":{"type":"string"},"slug":{"type":"string"},"language":{"type":"object"},"testCasesPassed":{"type":"number"},"totalTestCases":{"type":"number"},"problem":{"type":"object"},"user":{"type":"object"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","slug","language","testCasesPassed","totalTestCases","problem","user","createdAt"]},"UpdateSubmissionDto":{"type":"object","properties":{}},"Language":{"type":"string","enum":["c","cpp","java","js","go"]},"AllSubmissionsDto":{"type":"object","properties":{"submissions":{"type":"array","items":{"$ref":"#/components/schemas/Submission"}},"paginationMeta":{"$ref":"#/components/schemas/PaginationResultDto"}},"required":["submissions","paginationMeta"]},"SubmissionResponseDto":{"type":"object","properties":{"id":{"type":"string"},"slug":{"type":"string"},"language":{"type":"object"},"testCasesPassed":{"type":"number"},"totalTestCases":{"type":"number"},"problem":{"type":"object"},"user":{"type":"object"},"createdAt":{"format":"date-time","type":"string"},"code":{"type":"string"}},"required":["id","slug","language","testCasesPassed","totalTestCases","problem","user","createdAt","code"]},"AddSolutionDto":{"type":"object","properties":{"problemId":{"type":"string"},"code":{"type":"string"},"language":{"type":"object"}},"required":["problemId","code","language"]}}}}
